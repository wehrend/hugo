<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='title: Setting up a static blog with Nikola
  slug: setting-up-a-static-blog-with-nikola
  date: 2020-12-12
  tags: Web, Nikola
  category:
  link:
  description: How to setup Nikola (on Docker)
  type: text
   I picked up Nikola some months ago as I was searching for a simple static-site-generator to setup a blog with minimal effort.
 To make things a bit more interesting and at the same time easier we will use Nikola in a Docker container.'><title></title>

<link rel='canonical' href='http://wehrend.uber.space/posts/setting_up_nikola.rst/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content=''>
<meta property='og:description' content='title: Setting up a static blog with Nikola
  slug: setting-up-a-static-blog-with-nikola
  date: 2020-12-12
  tags: Web, Nikola
  category:
  link:
  description: How to setup Nikola (on Docker)
  type: text
   I picked up Nikola some months ago as I was searching for a simple static-site-generator to setup a blog with minimal effort.
 To make things a bit more interesting and at the same time easier we will use Nikola in a Docker container.'>
<meta property='og:url' content='http://wehrend.uber.space/posts/setting_up_nikola.rst/'>
<meta property='og:site_name' content='Interdependent'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts' />
<meta name="twitter:title" content="">
<meta name="twitter:description" content="title: Setting up a static blog with Nikola
  slug: setting-up-a-static-blog-with-nikola
  date: 2020-12-12
  tags: Web, Nikola
  category:
  link:
  description: How to setup Nikola (on Docker)
  type: text
   I picked up Nikola some months ago as I was searching for a simple static-site-generator to setup a blog with minimal effort.
 To make things a bit more interesting and at the same time easier we will use Nikola in a Docker container.">
    </head>
    <body class="article-page keep-sidebar">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "[dark]");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column compact ">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
        <h1 class="site-name"><a href="http://wehrend.uber.space/">Interdependent</a></h1>
        <h2 class="site-description"></h2>
    </header>

    <ol class="menu" id="main-menu">
        
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>Dark Mode</span>
            </li>
        
    </ol>
</aside>

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <h2 class="article-title">
        <a href="/posts/setting_up_nikola.rst/"></a>
    </h2>

    </div>
</header>

    <section class="article-content">
    <div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>title: Setting up a static blog with Nikola</p>
</li>
<li>
<p>slug: setting-up-a-static-blog-with-nikola</p>
</li>
<li>
<p>date: 2020-12-12</p>
</li>
<li>
<p>tags: Web, Nikola</p>
</li>
<li>
<p>category:</p>
</li>
<li>
<p>link:</p>
</li>
<li>
<p>description: How to setup Nikola (on Docker)</p>
</li>
<li>
<p>type: text</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>I picked up Nikola some months ago as I was searching for a simple static-site-generator to setup a blog with minimal effort.</p>
</div>
<div class="paragraph">
<p>To make things a bit more interesting and at the same time easier we will use Nikola in a Docker container.
So I require an almost basic understanding for Docker here.</p>
</div>
<div class="paragraph">
<p>First create a directory on our host system, where you want the files stored, e.g. &#39;blog&#39; in your home directory.</p>
</div>
<div class="paragraph">
<p>You can pull unoffical images with the most recent version via:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker pull dragas/nikola</pre>
</div>
</div>
<div class="paragraph">
<p>and run the image getting a (bash) shell via:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker run -it --network=&#34;host&#34; -v ~/blog:/nikola dragas/nikola</pre>
</div>
</div>
<div class="paragraph">
<p>here the option flag -it stands for interactive - which, in fact, it does not but it is easy to memorize so, so let it be so.
Furthermore we need to add our volume, a storage resource which is shared between the host system and the docker container. So we add
-v ~/blog for our blog located in our home directory (for linux, on windows systems the paths differ).
Also we need to add the option --network=&#34;host&#34; otherwise we won’t be able to access the webpage from our host system, and thus from our browser.
If you are interested, check https://docs.docker.com/engine/reference/run/[Docker run]</p>
</div>
<div class="paragraph">
<p>Here you can execute the common bash commands like cd, ls, ps and so on, feel free to test and explore
https://dev.to/awwsmm/101-bash-commands-and-tips-for-beginners-to-experts-30je[Basic bash commands] :-)</p>
</div>
<div class="paragraph">
<p>Now that you have explored the system a bit, you can initiate a basic nikola project via:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>nikola init</pre>
</div>
</div>
<div class="paragraph">
<p>You will be led through some questions regarding your blog, for destination simply set .</p>
</div>
<div class="paragraph">
<p>We create a first post with:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>nikola new_page -t &#34;Hello World&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>Write the post on your host system on an editor of your choice it is located in blog/posts/hello-world.rst and then build via:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>nikola build</pre>
</div>
</div>
<div class="paragraph">
<p>To test the website, start the test server with:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>nikola serve</pre>
</div>
</div>
<div class="paragraph">
<p>and head your browser to <a href="http://localhost:8080">http://localhost:8080</a> .</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/nikola_default.png" alt="Unnamed image"/></span></p>
</div>
<div class="paragraph">
<p>This is cool, but surely we want do a bit of styling and customization now, as the current look is pretty standard.
The author’s preference is a plain and simple style without much unnecessary payload.So I searched for such theme, but they were not
to my liking. Then I found the https://themes.getnikola.com/v8/hyde/[Nikola port of Hyde]</p>
</div>
<div class="paragraph">
<p>The theme can be installed with:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>nikola theme -i hyde</pre>
</div>
</div>
<div class="paragraph">
<p>After installation the theme needed some tweaking of the about section in the sidebar. So the version shown here diverges
from the original look. Adjustments were made to the file assets/css/hyde.css in the directory of the freshly installed theme.
Ideally the changes should be made in an additional file custom.css</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/nikola_hyde.png" alt="Unnamed image"/></span></p>
</div>
<div class="paragraph">
<p>Much better now!</p>
</div>
<div class="paragraph">
<p>If we are satified with the result, we can deploy our new static site to web space of our choice. For this we adjust the deploy setting
in th conf.py file. This can look like the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">DEPLOY_COMMANDS = {
    &#39;default&#39;: [
        &#39;rsync -rav --delete output/ user@server:/var/www/virtual/user/html&#39;,
        &#39;rdiff-backup output ~/blog-backup&#39;,
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, we can simply execute this command by typing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>nikola deploy</pre>
</div>
</div>
<div class="paragraph">
<p>and the new site is part of the www.</p>
</div>

</section>


    <footer class="article-footer">
    

    </footer>

    
</article>

     
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2021 Interdependent
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="2.3.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
    <script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
